[build]
  publish = "."
  command = ""

[[headers]]
  for = "/*"
  [headers.values]
    Strict-Transport-Security = "max-age=63072000; includeSubDomains; preload"
    X-Content-Type-Options = "nosniff"
    X-Frame-Options = "DENY"
    Referrer-Policy = "strict-origin-when-cross-origin"
    Permissions-Policy = "geolocation=(), microphone=(), camera=()"
    Content-Security-Policy = "default-src 'self'; img-src 'self' data:; style-src 'self' 'unsafe-inline'; object-src 'none'; base-uri 'self'; form-action 'self'"

# Memo : indexable mais pas d’extrait ni d’archive
[[headers]]
  for = "/_invisible/memo.html"
  [headers.values]
    X-Robots-Tag = "index,follow,noarchive,nosnippet"

[[headers]]
  for = "/en/_invisible/memo.html"
  [headers.values]
    X-Robots-Tag = "index,follow,noarchive,nosnippet"

# vCard + graph + atom : types & cache
[[headers]]
  for = "/cad.vcf"
  [headers.values]
    Content-Type = "text/vcard; charset=utf-8"
    Cache-Control = "public, max-age=86400"

[[headers]]
  for = "/graph.jsonld"
  [headers.values]
    Content-Type = "application/ld+json; charset=utf-8"
    Cache-Control = "public, max-age=86400"

[[headers]]
  for = "/atom.xml"
  [headers.values]
    Content-Type = "application/atom+xml; charset=utf-8"
    Cache-Control = "public, max-age=3600"
